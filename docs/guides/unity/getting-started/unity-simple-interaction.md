---
id: unity-simple-interaction
title: Simple Grab Interaction
sidebar_position: 5
date: 9/11/2-23
tags: [Unity, Overview, Getting Started, Hello Cube]
keywords: [Unity, Overview, Getting Started, Hello Cube]
---

This document will demonstrate how to add grab interaction to the project created in the previous guide.

## Prerequisites

- [Configured Unity Settings](/docs/guides/unity/getting-started/configure-unity-settings.md)
- [Completed the Building a Simple App tutoria](/docs/guides/unity/getting-started/unity-building-simple-app.md)

## Adding Controller Input

In order for controller input to be active, you must create a script that enables controller input.

1. Create a new script named **ControllerInput.cs**
2. Copy and paste the following code into the ControllerInput.cs script:

```cs

using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.InputSystem;

public class ControllerInput : MonoBehaviour
{
    // This is was autogenerated and allows developers to create a dynamic
        // instance of an InputActionAsset which includes predefined action maps
        // that correspond to all of the Magic Leap 2's input.
        private MagicLeapInputs _magicLeapInputs;
        
        // This class is an Action Map and was autogenerated by the Unity Input
        // System and includes predefined bindings for the Magic Leap 2 Controller
        // Input Events.
        private MagicLeapInputs.ControllerActions _controllerActions;
    
        void Start()
        {
            // Initialize the InputActionAsset
            _magicLeapInputs = new MagicLeapInputs();
            _magicLeapInputs.Enable();
    
            //Initialize the ControllerActions using the Magic Leap Input
            _controllerActions = new MagicLeapInputs.ControllerActions(_magicLeapInputs);
    
            //Subscribe to your choice of the controller events
            _controllerActions.IsTracked.performed += IsTrackedOnPerformed;
            _controllerActions.Trigger.performed += HandleOnTrigger;
            _controllerActions.Bumper.performed += HandleOnBumper;
        }
    
        // Handles the event to determine if the controller is tracking.
        private void IsTrackedOnPerformed(InputAction.CallbackContext obj)
        {
            Debug.Log("The Controller Is tracking");
        }
    
        // Handles the event for the Trigger.
        private void HandleOnTrigger(InputAction.CallbackContext obj)
        {
            float triggerValue = obj.ReadValue<float>();
            Debug.Log("The Trigger value is : " +  triggerValue);
        }
    
        // Handles the event for the Bumper.
        private void HandleOnBumper(InputAction.CallbackContext obj)
        {
            bool bumperDown = obj.ReadValueAsButton();
            Debug.Log("The Bumper is pressed down " + bumperDown);
            Debug.Log("The Bumper was released this frame: " + obj.action.WasReleasedThisFrame());
        }
    
        // Handles the disposing all of the input events.
        void OnDestroy()
        {
            _controllerActions.IsTracked.performed -= IsTrackedOnPerformed;
            _controllerActions.Trigger.performed -= HandleOnTrigger;
            _controllerActions.Bumper.performed -= HandleOnBumper;
            _magicLeapInputs.Dispose();
        }
}


```

You can learn more about what each portion of this script does in the [Controller input Unity guides](docs/guides/unity/input/controller/controller-overview.md).

3. In the scene hierarchy, create a new empty GameObject named **ControllerInput**.
4. Add the ControlleRInput.cs script to the object and make sure it is enabled in the scene.

## Adding Unity XR interaction

This section will utilize a [Unity XR Interaction](https://docs.unity3d.com/Packages/com.unity.xr.interaction.toolkit@2.4/manual/index.html) script allowing the user to grab the cube created in the previous tutorial.

1. Selected the previously created cube from [Building a Simple App](/docs/guides/unity/getting-started/unity-building-simple-app.md) and rename it to **Grabbable Cube**.

2. Select the Grabbale Cube and in the inspector click **Add Component > XR Grab Interactable**. You can learn about this script in the [Unity XR Interaction Toolkit documentation](https://docs.unity3d.com/Packages/com.unity.xr.interaction.toolkit@2.0/manual/xr-grab-interactable.html).

3. In the scene hierarchy, right click in an empty space and select **XR > Interaction Manager** to add a new XR Interaction manager to the scene.

4. With the GrabbableCube selected, drag the newly created **XR Interaction Manager** object into the **Interaction Manager** slot on the **XR Grab Interactable** script on the cube.

<img src="/img/unity/simple-app-interaction/grabbable-cube-settings.png" width="900"/>

5. Set the parameters to the following settings:

<img src="/img/unity/simple-app-interaction/xr-grab-interactable.png" width="900"/>

6. Make sure the cube has a Box Collider and a Rigidbody component attached to it.

7. In the Rigidbody properties, ensure that *is kinematic* and *use gravity* is **unchecked** and its collision detection is set to *Continuous Dynamic*.

<img src="/img/unity/simple-app-interaction/rigidbody-settings.png" width="900"/>

8. Expand the XR Rig and select the **GameController** object.

9. In the Inspector, find the **XR Ray Interactor** script attached to this object. Drag the **XR Interaction Manager** from the scene into the **XR Interaction Manager** slot in the script and **uncheck** the *Force grab* option in the script as shown below:

[SCREENSHOT]
<img src="/img/unity/simple-app-interaction/xr-ray-interactor.png" width="900"/>

## Test the project

1. Save the scene
2. Make sure the device is connected to the computer
3. Go to **File>Build Settings**, select the current scene and click **Build and Run**.

You should be able to pick up the cube by hovering over the cube with the controller ray and pressing the trigger, and release it by letting go of the trigger button.
